<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Monitor - çµæœ</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <!-- å­—é«” ï¼ˆgoogle font LXGW WenKai TC Staticï¼‰ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=LXGW+WenKai+TC&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: "LXGW WenKai TC", cursive;
        }
        h1, h2, h3 {
            font-family: "LXGW WenKai TC", cursive;
        }

        .summary-row {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .summary-card {
            background: #f4f4f4;
            padding: 16px 20px;
            border-radius: 12px;
            min-width: 180px;
            text-align: center;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }
        .summary-card-title {
            font-size: 1.1em;
            margin-bottom: 8px;
            color: #264653;
        }
        .summary-card-value {
            font-size: 1.4em;
            font-weight: bold;
        }

        .tdee-and-mood {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .tdee-box {
            flex: 2;
            background: #fef6e4;
            padding: 16px 20px;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            text-align: left;
        }
        .tdee-box h2 {
            margin-top: 0;
            color: #e07a5f;
        }
        .tdee-box ul {
            padding-left: 20px;
        }
        .tdee-box li {
            margin-bottom: 6px;
        }

        .mood-box {
            flex: 1;
            background: #e0f7fa;
            padding: 16px 20px;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            text-align: left;
        }
        .mood-box h2 {
            margin-top: 0;
            color: #00796b;
        }
        .mood-text {
            font-size: 1.1em;
            margin-top: 10px;
        }

        .back-home {
            margin-top: 20px;
            text-align: center;
        }
        .back-home a {
            text-decoration: none;
            color: white;
            background-color: #264653;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 1.1em;
            margin: 0 10px;
            display: inline-block;
        }
        .back-home a:hover {
            background-color: #2A9D8F;
        }
    </style>
</head>
<body>
    <div class="lower_container">
        <h1>å¥åº·åˆ†æ & é«”æ…‹å»ºè­°</h1>

        <!-- ä¸Šæ–¹ç¸½çµå¡ç‰‡ï¼šBMI / TDEE / ç›®æ¨™ -->
        <div class="summary-row">
            <div class="summary-card">
                <div class="summary-card-title">ç›®å‰ BMI</div>
                <div class="summary-card-value">
                    {% if bmi_value %}
                        {{ bmi_value }}
                    {% else %}
                        -
                    {% endif %}
                </div>
            </div>

            <div class="summary-card">
                <div class="summary-card-title">ä¼°ç®— TDEEï¼ˆæ¯æ—¥ç¸½æ¶ˆè€—ï¼‰</div>
                <div class="summary-card-value">
                    {% if tdee_data %}
                        {{ tdee_data.tdee }} å¤§å¡
                    {% else %}
                        -
                    {% endif %}
                </div>
            </div>

            <div class="summary-card">
                <div class="summary-card-title">é«”æ…‹ç›®æ¨™</div>
                <div class="summary-card-value">
                    {% if tdee_data %}
                        {% if tdee_data.goal == 'bulk' %}
                            å¢è‚Œ ğŸ’ª
                        {% elif tdee_data.goal == 'cut' %}
                            æ¸›è„‚ ğŸ¥—
                        {% else %}
                            ç¶­æŒ
                        {% endif %}
                    {% else %}
                        -
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- ä¸­æ®µï¼šTDEE / æ¸›é‡å»ºè­° + å¿ƒæƒ…é¼“å‹µ -->
        <div class="tdee-and-mood">
            <!-- TDEE å»ºè­°å€ -->
            <div class="tdee-box">
                {% if tdee_data %}
                    <h2>{{ tdee_data.advice.title }}</h2>
                    <p><strong>BMRï¼ˆåŸºç¤ä»£è¬ç‡ï¼‰ï¼š</strong> {{ tdee_data.bmr }} å¤§å¡ / å¤©</p>
                    <p><strong>TDEEï¼ˆå«æ´»å‹•é‡ï¼‰ï¼š</strong> {{ tdee_data.tdee }} å¤§å¡ / å¤©</p>
                    <p><strong>ç†±é‡å»ºè­°ï¼š</strong> {{ tdee_data.advice.cal_range }}</p>

                    {% if tdee_data.advice.desc %}
                        <h3>é£²é£Ÿèˆ‡é‹å‹•å»ºè­°ï¼š</h3>
                        <ul>
                            {% for line in tdee_data.advice.desc %}
                                <li>{{ line }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                {% else %}
                    <h2>å°šæœªæä¾›å®Œæ•´çš„ TDEE è³‡æ–™</h2>
                    <p>è«‹åœ¨é¦–é è¼¸å…¥èº«é«˜ã€é«”é‡ã€å¹´é½¡ã€æ€§åˆ¥èˆ‡æ´»å‹•é‡ï¼Œå°±èƒ½çœ‹åˆ°å°ˆå±¬çš„æ¸›è„‚ / å¢è‚Œå»ºè­°ã€‚</p>
                {% endif %}
            </div>

            <!-- å¿ƒæƒ…é¼“å‹µå€ -->
            <div class="mood-box">
                <h2>ä»Šæ—¥å¿ƒæƒ…å°èª</h2>
                {% if encouragement_phrase %}
                    <div class="mood-text">
                        ã€Œ{{ encouragement_phrase }}ã€
                    </div>
                    <p style="margin-top: 10px; font-size: 0.9em; color: #555;">
                        ç„¡è«–ä»Šå¤©çš„èº«é«”æ•¸å­—å¦‚ä½•ï¼Œä½ é¡˜æ„é—œå¿ƒè‡ªå·±çš„å¥åº·èˆ‡é«”æ…‹ï¼Œæœ¬èº«å°±æ˜¯å¾ˆæ£’çš„ä¸€æ­¥ã€‚
                    </p>
                {% else %}
                    <p class="mood-text">ä»Šå¤©æ²’æœ‰é¸æ“‡å¿ƒæƒ…ï¼Œä½†ä»ç„¶ç¥ä½ æœ‰å¹³å®‰ã€ç©©å®šçš„ä¸€å¤©ã€‚</p>
                {% endif %}
            </div>
        </div>

        <!-- ä¸‰å¤§å¥åº·å»ºè­°å€å¡Šï¼šè¡€å£“ / è¡€ç³– / BMI -->
        <div class="advice-container">
            <!-- è¡€å£“å»ºè­° -->
            <div class="advice-section">
                <h2>Blood Pressureï¼ˆè¡€å£“ï¼‰</h2>
                {% if fontLargestStrong.blood_pressure or fontSecondStrong.blood_pressure or fontNormalStrong.blood_pressure or fontNormal.blood_pressure %}
                    <div class="advice">
                        <ul class="font-largest-strong">
                            {% for advice in fontLargestStrong.blood_pressure %}
                                <li><strong>{{ advice }}</strong></li>
                            {% endfor %}
                        </ul>

                        <ul class="font-second-strong">
                            {% for advice in fontSecondStrong.blood_pressure %}
                                <li>{{ advice }}</li>
                            {% endfor %}
                        </ul>

                        <ul class="font-normal-strong">
                            {% for advice in fontNormalStrong.blood_pressure %}
                                <li>{{ advice }}</li>
                            {% endfor %}
                        </ul>

                        <ul class="font-normal">
                            {% for advice in fontNormal.blood_pressure %}
                                <li>{{ advice }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>

            <!-- è¡€ç³–å»ºè­° -->
            <div class="advice-section">
                <h2>Blood Sugarï¼ˆè¡€ç³–ï¼‰</h2>
                {% if fontLargestStrong.blood_sugar or fontSecondStrong.blood_sugar or fontNormalStrong.blood_sugar or fontNormal.blood_sugar %}
                    <div class="advice">
                        <ul class="font-largest-strong">
                            {% for advice in fontLargestStrong.blood_sugar %}
                                <li><strong>{{ advice }}</strong></li>
                            {% endfor %}
                        </ul>

                        <ul class="font-second-strong">
                            {% for advice in fontSecondStrong.blood_sugar %}
                                <li>{{ advice }}</li>
                            {% endfor %}
                        </ul>

                        <ul class="font-normal-strong">
                            {% for advice in fontNormalStrong.blood_sugar %}
                                <li>{{ advice }}</li>
                            {% endfor %}
                        </ul>

                        <ul class="font-normal">
                            {% for advice in fontNormal.blood_sugar %}
                                <li>{{ advice }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    {# è‹¥è¡€ç³–åé«˜ï¼Œé¡¯ç¤º GI èªªæ˜é€£çµ #}
                    {% if fontLargestStrong.blood_sugar and 'è¡€ç³–åé«˜' in fontLargestStrong.blood_sugar[0] %}
                        <div style="margin-top: 10px;">
                            <a href="{{ url_for('GI') }}" class="btn btn-info">é»æˆ‘äº†è§£ GI å€¼èˆ‡é£²é£Ÿé¸æ“‡</a>
                        </div>
                    {% endif %}
                {% endif %}
            </div>

            <!-- BMI å»ºè­° -->
            <div class="advice-section">
                <h2>BMIï¼ˆé«”é‡ç‹€æ…‹ï¼‰</h2>
                {% if fontLargestStrong.bmi or fontSecondStrong.bmi or fontNormalStrong.bmi or fontNormal.bmi %}
                    <div class="advice">
                        <ul class="font-largest-strong">
                            {% for advice in fontLargestStrong.bmi %}
                                <li><strong>{{ advice }}</strong></li>
                            {% endfor %}
                        </ul>

                        <ul class="font-second-strong">
                            {% for advice in fontSecondStrong.bmi %}
                                <li>{{ advice }}</li>
                            {% endfor %}
                        </ul>

                        <ul class="font-normal-strong">
                            {% for advice in fontNormalStrong.bmi %}
                                <li>{{ advice }}</li>
                            {% endfor %}
                        </ul>

                        <ul class="font-normal">
                            {% for advice in fontNormal.bmi %}
                                <li>{{ advice }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>
        </div>

        <!-- ä¸‹æ–¹æŒ‰éˆ•ï¼šè¿”å›ä¸»é  / æ›´å¤šé‹å‹• APP / æ­·å²ç´€éŒ„ -->
        <div class="aling_two_buttom" style="margin-top: 30px;">
            <div class="back-home">
                <a href="{{ url_for('index') }}">è¿”å›ä¸»é </a>
            </div>
            <div class="back-home">
                <a href="{{ url_for('info') }}">é‹å‹• APP å»ºè­°</a>
            </div>
            <div class="back-home">
                <a href="{{ url_for('history') }}">æŸ¥çœ‹æ­·å²ç´€éŒ„</a>
            </div>
        </div>
    </div>
</body>
</html>
